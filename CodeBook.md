PURPOSE

The purpose of the run_analysis.r script is to create a single, tidy table that summarizes the HAR information of all the mean and std variables, per subject per activity, using averages.  

DATA

The raw data used by this script was generated by:

==================================================================
Human Activity Recognition Using Smartphones Dataset
Version 1.0
==================================================================
Jorge L. Reyes-Ortiz, Davide Anguita, Alessandro Ghio, Luca Oneto.
Smartlab - Non Linear Complex Systems Laboratory
DITEN - Universit√† degli Studi di Genova.
Via Opera Pia 11A, I-16145, Genoa, Italy.
activityrecognition@smartlab.ws
www.smartlab.ws
==================================================================

More info here: http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones
And it can be downloaded here: https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip

OUTPUT

The output is called:

- 'HAR_tidydata.txt': The data is summarized as the average for each variable, per activity, per subject.  One row per subject-activity combination (30 subjects x 6 activities = 180 records in total) & one column per variable (89 columns including subject_id, activity_id, activity & any other variable containing either "mean" or "std" in their names).

INPUT

From the raw data set, which contains several files, the ones actually used by the run_analysis.r script as input are:

- 'features.txt': List of all features or variables measured by the smartphones' accelerator and gyroscpe.
- 'activity_labels.txt': Links the activities ids with their activity names.  There are 6 activities in total.
- 'train/X_train.txt': Training data set which consists in the records for 70% of the total sample (30 subjects in total).
- 'train/y_train.txt': The activity id that corresponds to each record of the training data set.
- 'train/subject_train.txt': The subject id of the person that performed each row of the training data set. 
- 'test/X_test.txt': Test data set which consists in the records for 30% of the total sample (30 subjects in total).
- 'test/y_test.txt': The activity id that corresponds to each record of the training data set.
- 'test/subject_test.txt': The subject id of the person that performed each row of the test data set.

SCRIPT

The run_analysis.r script contains comments that provide a detailed explanation of each step in the process of going form the INPUT to the OUTPUT described above.  However, a broad overview is provided here too:

1. The data from all the INPUT files described above is read into r, assuming the "UCI HAR Dataset" folder is located in the working directory and contains the "test" and "train" directories inside (the original structure of the raw dataset).
2. The column names for each file are updated with more understandable names.  The column names are assigned by the script for the following files: activity_labels.txt, y_train.txt, y_test.txt, subject_train.txt, the subject_test.txt according to the information contained in each column (either activity_id, activity or subject_id).  For the X_train.txt and X_test.txt files, the column names are obtained from the features.txt file.  Additionally, since some of the features names aren't unique and some use invalid characters, a tidying of those names is performed as well to avoid conflicts with other functions used afterwards (specifically merge() & select()).
3. The data from subject_train, y_train & X_train is bound by columns to create a traindata table and the same is done with the data from subject_test, y_test & X_test to create a testdata table.
4. The data from the traindata & testdata tables is bound by rows to create a mergeddata table.
5. A subsetdata table is generated by selecting only the subject_id, activity_id and any other column that contain either "mean" or "std" as part of their name.
6. Activity labels are added to the subsetdata table.
7. A tidydata set is generated by summarizing all the data using the "mean" function, grouping the information by subject_id and activity.
8. The tidydata set is exported by writing the HAR_tidydata.txt file as the output in the working directory.
